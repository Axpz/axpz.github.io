<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="shortcut icon" href="/assets/favicon.png" type="image/png" />
  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-Y7KSK53R96"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-Y7KSK53R96");
  </script><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>git workflow | Xianping</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="git workflow" />
<meta name="author" content="Axpz" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="一图胜千文，这张图真是让我爱不释手啊" />
<meta property="og:description" content="一图胜千文，这张图真是让我爱不释手啊" />
<meta property="og:site_name" content="Xianping" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-23T01:47:52+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="git workflow" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Axpz"},"dateModified":"2025-01-23T01:47:52+00:00","datePublished":"2025-01-23T01:47:52+00:00","description":"一图胜千文，这张图真是让我爱不释手啊","headline":"git workflow","mainEntityOfPage":{"@type":"WebPage","@id":"/k8s/2025/01/23/09-47-52-gitworkflow.html"},"url":"/k8s/2025/01/23/09-47-52-gitworkflow.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Xianping" />
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">
      <img src="/assets/favicon.png" alt="Favicon" type="image/png" style="width: 32px; height: 32px;" />
      Xianping
    </a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/ais/">AI today</a><a class="page-link" href="/posts/">Posts</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home"><h1 class="page-heading">git workflow</h1><p>一图胜千文，这张图真是让我爱不释手啊</p>

<p><img src="/assets/images/git-workflow.gif" alt="git workflow" /></p>

<h1 id="git-的核心概念">Git 的核心概念</h1>

<p>Git 是一种分布式版本控制系统，主要用于管理代码的变更。它通过多个状态和区间，帮助开发者跟踪、管理和共享代码。</p>

<h2 id="工作目录-working-directory">工作目录 (Working Directory)</h2>

<p>本地文件夹，包含所有正在开发和修改的代码，文件有两种状态</p>
<ul>
  <li><strong>未跟踪(Untracked)</strong>：新文件，Git尚未开始管理</li>
  <li><strong>已跟踪(Tracked)</strong>: 被Git管理的文件，可用于修改、未修改或暂存状态</li>
</ul>

<h2 id="暂存区-staging-area">暂存区 (Staging Area)</h2>

<ul>
  <li>又称为<strong>Index</strong>， 是一个中间区域，用于保存你准备提交到本地仓库的更改</li>
  <li>暂存区可以理解为提交的草稿区，只有暂存的文件才会被提交</li>
</ul>

<h2 id="本地仓库local-repo">本地仓库(Local Repo)</h2>

<ul>
  <li>包含所有的提交历史，保存了项目的版本变化</li>
  <li>通过<code class="language-plaintext highlighter-rouge">git commit</code>将暂存区的更改记录到本地仓库</li>
</ul>

<h2 id="远程仓库remote-repo">远程仓库(Remote Repo)</h2>
<ul>
  <li>通常是托管在服务器或云端 (GitHub, GitLab)的仓库</li>
  <li>本地仓库的更改可以通过<code class="language-plaintext highlighter-rouge">git push</code> 推送到远程仓库，工团队成员共享</li>
</ul>

<h1 id="git-的设计哲学">Git 的设计哲学</h1>

<h2 id="分布式版本控制">分布式版本控制</h2>
<ul>
  <li>Git的核心在于每个开发者都拥有完成的仓库副本，确保即使没有网络链接，也能进行代码的管理和回滚</li>
</ul>

<h2 id="文件的三个区域">文件的三个区域</h2>
<ul>
  <li><strong>工作目录</strong> <strong>暂存区</strong> <strong>本地仓库</strong> 的分离，使得修改和提交具有更高的灵活性</li>
</ul>

<h2 id="基于快照而非差异">基于快照而非差异</h2>
<ul>
  <li>Git 通过报错文件快照 (snapshot) 而非改动，提高了性能和版本管理效率</li>
</ul>

<h2 id="高效分支管理">高效分支管理</h2>
<ul>
  <li>Git 的分支(Branch) 轻量且易于合并，便于多人协作和快速开发</li>
</ul>

<p><strong>Note:</strong>
每次提交就是一张快照照片： 项目所有文件的当前状态都被记录下来。
未变动的文件只存一次： Git 不会重复保存相同的文件，依靠引用来避免冗余。
高效与完整结合： 快照是对版本状态的完整记录，但通过引用和压缩技术使其存储效率极高。
通过这种快照机制，Git 既保证了性能，又能方便地管理代码版本，让开发者专注于编程而无需关心底层实现。</p>

<p>假设有一个项目包含三个文件：<code class="language-plaintext highlighter-rouge">file1.txt</code>、<code class="language-plaintext highlighter-rouge">file2.txt</code> 和 <code class="language-plaintext highlighter-rouge">file3.txt</code>，以下是文件的变更和提交的流程：</p>

<p><strong>初次提交</strong></p>

<ul>
  <li>
    <p>Git 保存所有文件的完整内容（Blob），并生成 Tree 和 Commit 对象。</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">Commit</span> <span class="err">→</span> <span class="n">Tree</span> <span class="err">→</span> <span class="p">[</span><span class="nb">Blob</span><span class="p">(</span><span class="n">file1</span><span class="p">),</span> <span class="nb">Blob</span><span class="p">(</span><span class="n">file2</span><span class="p">),</span> <span class="nb">Blob</span><span class="p">(</span><span class="n">file3</span><span class="p">)]</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>第二次提交</strong></p>

<ul>
  <li>修改了 <code class="language-plaintext highlighter-rouge">file2.txt</code>，其他文件未变动。</li>
  <li>Git 只保存 <code class="language-plaintext highlighter-rouge">file2.txt</code> 的新 Blob，对未变动的文件使用之前的引用。
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">Commit</span> <span class="err">→</span> <span class="n">Tree</span> <span class="err">→</span> <span class="p">[</span><span class="nb">Blob</span><span class="p">(</span><span class="n">file1</span><span class="p">),</span> <span class="nb">Blob</span><span class="p">(</span><span class="n">new_file2</span><span class="p">),</span> <span class="nb">Blob</span><span class="p">(</span><span class="n">file3</span><span class="p">)]</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>第三次提交</strong></p>

<ul>
  <li>修改了 <code class="language-plaintext highlighter-rouge">file3.txt</code>。</li>
  <li>
    <p>Git 保存 <code class="language-plaintext highlighter-rouge">file3.txt</code> 的新 Blob，其余文件继续引用之前的 Blob。</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">Commit</span> <span class="err">→</span> <span class="n">Tree</span> <span class="err">→</span> <span class="p">[</span><span class="nb">Blob</span><span class="p">(</span><span class="n">file1</span><span class="p">),</span> <span class="nb">Blob</span><span class="p">(</span><span class="n">new_file2</span><span class="p">),</span> <span class="nb">Blob</span><span class="p">(</span><span class="n">new_file3</span><span class="p">)]</span>
</code></pre></div>    </div>
  </li>
</ul>



  </div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Axpz</li>
          <li><a class="u-email" href="mailto:axpzhang@gmail.com">axpzhang@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Cost-effective hybrid cloud computing and resource scheduling on Kubernetes.
</p>
        <a href="/assets/images/WechatXianping.jpg" target="_blank">A cup of Coffee 请我喝咖啡</a>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
